diff -u rpm2targz-9.0.0.3g.orig/rpmoffset.c rpm2targz-9.0.0.3g/rpmoffset.c
--- rpm2targz-9.0.0.3g.orig/rpmoffset.c	2008-12-23 00:49:03 +0900
+++ rpm2targz-9.0.0.3g/rpmoffset.c	2008-12-23 00:56:57 +0900
@@ -21,7 +21,7 @@
 
 #define MAGIC_SIZE 3
 
-#ifdef __INTERIX
+#if defined(__INTERIX) || defined(__APPLE__)
 void *memmem(const void *buf, const void *pattern, size_t buflen, size_t len)
 {
       char *bf = (char *)buf, *pt = (char *)pattern, *p = bf;
